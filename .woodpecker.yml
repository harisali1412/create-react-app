steps:
  install:
    name: Install Dependencies
    image: node:18
    commands:
      - npm ci
    when:
      event: [push, pull_request]

  build:
    name: Build React App
    image: node:18
    commands:
      - npm run build
    depends_on: [install]
    when:
      event: [push, pull_request]

  test:
    name: Run Tests
    image: node:18
    commands:
      - npm test -- --watchAll=false --passWithNoTests
    depends_on: [install]
    when:
      event: [push, pull_request]

  lint:
    name: Code Linting
    image: node:18
    commands:
      - npm run eslint
    depends_on: [install]
    when:
      event: [push, pull_request]

  deploy:
    name: Deploy to Production
    image: alpine
    commands:
      - echo "ðŸš€ Deploying to production..."
      - echo "This is where you would add your deployment commands"
    when:
      branch: main
      event: push
